---
title: ISwitchboard.sol
hide_table_of_contents: true
keywords: [Switchboard, oracle network, evm]
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

ISwitchboard.sol is a solidity interface representing the Switchboard contract.
You may initialize this interface in your program if you pass a valid
Switchboard address. You may find a list of supported networks in the
[Networks Page](/network) - or use some of the utility functions below to load
the addresses dynamically based on a chainId.

## Setup

<Tabs groupId="evm-tooling">
  <TabItem value="hardhat" label="Hardhat" default>

### Install Contracts

Add
[@switchboard-xyz/evm.js](https://www.npmjs.com/package/@switchboard-xyz/evm.js)
to your Hardhat project:

```bash npm2yarn
npm i -D @switchboard-xyz/evm.js
```

### Import the Contract

Import the ISwitchboard interface from `@switchboard-xyz/evm.js/contracts/`.

You will need to pass the Switchboard address into your constructor or
initialization function. This ensures you always call the correct Switchboard
contract.

```solidity title="contracts/MyContract.sol"
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.19;

import {ISwitchboard} from "@switchboard-xyz/evm.js/contracts/ISwitchboard.sol";

contract MyContract {
    ISwitchboard switchboard;

    constructor(address switchboardAddress) {
        switchboard = ISwitchboard(switchboardAddress);
    }
}
```

### Deploying with Hardhat

If you're using a hardhat deployment script, you can use the following snippet
to get the address of the Switchboard contract from a provided chainId:

```typescript title="scripts/deploy.ts"
import { ethers } from "hardhat";
import { getEvmConfig, IEvmNetworkConfig } from "@switchboard-xyz/evm.js";

async function main() {
  const { chainId } = await ethers.provider.getNetwork();
  const sbConfig: IEvmNetworkConfig = getEvmConfig(chainId);
  const sbAddress: string = sbConfig.address;

  // ... hardhat sample deploy script

  const myContract = await ethers.deployContract("MyContract", [sbAddress]);
  await myContract.waitForDeployment();

  console.log(
    `MyContract deployed to ${myContract.target} with Switchboard address ${sbAddress}`
  );
}

// We recommend this pattern to be able to use async/await everywhere
// and properly handle errors.
main().catch((error) => {
  console.error(error);
  process.exitCode = 1;
});
```

  </TabItem>
  <TabItem value="foundry" label="Foundry">

Add
[switchboard-xyz/switchboard-contracts](https://github.com/switchboard-xyz/switchboard-contracts)
to your foundry project:

```bash
forge install --no-commit switchboard-xyz/switchboard-contracts
```

Then add the following to your remappings.txt:

```txt
switchboard-contracts/=lib/switchboard-contracts/
switchboard/=lib/switchboard-contracts/src/
switchboard-scripts/=lib/switchboard-contracts/script/
```

**NOTE:** If you do not have this file you can generate it with:
`forge remappings > remappings.txt`.

### Import the Contract

Import the ISwitchboard interface from `switchboard/ISwitchboard.sol`.

You will need to pass the Switchboard address into your constructor or
initialization function. This ensures you always call the correct Switchboard
contract.

```solidity title="src/MyContract.sol"
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.19;

import {ISwitchboard} from "switchboard/ISwitchboard.sol";

contract MyContract {
    ISwitchboard switchboard;

    constructor(address switchboardAddress) {
        switchboard = ISwitchboard(switchboardAddress);
    }
}
```

### Deploying with Foundry

Foundry uses solidity scripts to handle deployments. The `switchboard-contracts`
repository contains a
[HelperConfig contract](https://github.com/switchboard-xyz/switchboard-contracts/blob/main/script/HelperConfig.s.sol)
to check if the current chainId corresponds to a valid Switchboard deployment -
and if the chainId is not found it fallsback to a mock contract.

Below is a sample deployment script to deploy our contract. We can call this
script with `forge script script/Deploy.s.sol:DeployScript -vv`.

```solidity title="script/Deploy.s.sol"
// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import {MyContract} from "../src/MyContract.sol";

import {Script, console2} from "forge-std/Script.sol";
import {SwitchboardHelperConfig} from "switchboard-scripts/HelperConfig.s.sol";

contract DeployScript is Script {
    function setUp() public {}

    function run() external returns (MyContract, SwitchboardHelperConfig) {
        SwitchboardHelperConfig sbConfig = new SwitchboardHelperConfig();
        console2.log("Switchboard address: %s", sbConfig.getSwitchboardAddress());
        console2.log("AttestationQueueId: %s", sbConfig.getAttestationQueueId());

        vm.startBroadcast();
        MyContract myContract = new MyContract(sbConfig.getSwitchboardAddress());
        vm.stopBroadcast();

        console2.log("MyContract address: %s", address(myContract));

        return (myContract, sbConfig);
    }
}
```

### Testing with Foundry

We now have a deployment script to deploy our contract. We can also use this in
our integration tests to streamline our deploys. We'll add a basic helloWorld
function to `src/MyContract.sol` then test our contract with `forge test`:

```solidity title="test/MyContract.t.sol"
// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import {MyContract} from "../src/MyContract.sol";
import {DeployScript} from "../script/Deploy.s.sol";

import {Test} from "forge-std/Test.sol";
import {SwitchboardHelperConfig} from "switchboard-scripts/HelperConfig.s.sol";

contract MyContractTest is Test {
    MyContract public myContract;
    SwitchboardHelperConfig public sbConfig;

    function setUp() public {
        DeployScript deployer = new DeployScript();
        (myContract, sbConfig) = deployer.run();
    }

    function testHelloWorld() public {
        myContract.helloWorld();
    }
}
```

  </TabItem>
</Tabs>

## Usage

TBD - example calls using the ISwitchboard interface

### Read Attestation Queue

### Create a Function

### Read Function

### Fund Function

### Call Function
